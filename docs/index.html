<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>dsi-prct09-funkoapp</title><meta name="description" content="Documentation for dsi-prct09-funkoapp"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">dsi-prct09-funkoapp</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<h2>dsi-prct09-funkoapp</h2></div>
<div class="tsd-panel tsd-typography">
<a href="#práctica-9---aplicación-de-registro-de-funko-pops" id="práctica-9---aplicación-de-registro-de-funko-pops" style="color: inherit; text-decoration: none;">
  <h1>Práctica 9 - Aplicación de registro de Funko Pops</h1>
</a>

<a href="#desarrollo-de-sistemas-informáticos" id="desarrollo-de-sistemas-informáticos" style="color: inherit; text-decoration: none;">
  <h2>Desarrollo de Sistemas Informáticos</h2>
</a>
<blockquote>
<p><strong>Nombre:</strong> Iván García González <strong>Correo:</strong> <a href="mailto:alu0101388786@ull.edu.es">alu0101388786@ull.edu.es</a></p>
</blockquote>
<p align="center">
  <a href="https://coveralls.io/github/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct09-funko-app-Ivan-Garcia02?branch=main">
    <img alt="Coverage Status" src="https://coveralls.io/repos/github/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct09-funko-app-Ivan-Garcia02/badge.svg?branch=main">
  </a>
  <a href="https://github.com/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct09-funko-app-Ivan-Garcia02/actions/workflows/node.js.yml">
    <img alt="Tests" src="https://github.com/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct09-funko-app-Ivan-Garcia02/actions/workflows/node.js.yml/badge.svg">
  </a>
  <a href="https://sonarcloud.io/summary/new_code?id=ULL-ESIT-INF-DSI-2223_ull-esit-inf-dsi-22-23-prct09-funko-app-Ivan-Garcia02">
    <img alt="Quality Gate Status" src="https://sonarcloud.io/api/project_badges/measure?project=ULL-ESIT-INF-DSI-2223_ull-esit-inf-dsi-22-23-prct09-funko-app-Ivan-Garcia02&metric=alert_status">
  </a>
</p>


<a href="#índice" id="índice" style="color: inherit; text-decoration: none;">
  <h2>Índice</h2>
</a>
<ul>
<li><a href="#objetivos-de-la-pr%C3%A1ctica">Objetivos</a></li>
<li><a href="#ejercicios-propuestos">Ejercicios propuestos</a><ul>
<li><a href="#funko-app">Funko App</a></li>
</ul>
</li>
<li><a href="#ejercicio-modificaci%C3%B3n">Ejercicio modificación</a></li>
<li><a href="#conclusiones">Conclusiones</a></li>
<li><a href="#bibliograf%C3%ADa">Bibliografía</a></li>
</ul>

<a href="#objetivos-de-la-práctica" id="objetivos-de-la-práctica" style="color: inherit; text-decoration: none;">
  <h2>Objetivos de la práctica</h2>
</a>
<p>En esta práctica vamos a profundizar en los conceptos explicados en clase, sobre Node.js, la API síncrona proporcionada por Node.js para trabajar con el sistema de ficheros y los paquetes <code>yargs</code> y <code>chalk</code>.</p>

<a href="#ejercicios-propuestos" id="ejercicios-propuestos" style="color: inherit; text-decoration: none;">
  <h2>Ejercicios propuestos</h2>
</a>

<a href="#funko-app" id="funko-app" style="color: inherit; text-decoration: none;">
  <h3>Funko App</h3>
</a>

<a href="#funkots" id="funkots" style="color: inherit; text-decoration: none;">
  <h4>funko.ts</h4>
</a>
<p>Para este ejercicio nos pedian implementar una aplicación que permita almacenar información de los Funko Pops pertenecientes a la colección de un usuario. En concreto, el sistema permitirá añadir, modificar, eliminar, listar y leer la información asociada a un Funko. La información de cada Funko se almacenará como un JSON en el sistema de ficheros de la máquina donde se ejecute la aplicación. Además, solo se podrá interactuar con la aplicación desde la línea de comandos con el paquete <code>yargs</code>.</p>
<p>Lo primero que hemos hecho ha sido crear la estructura de datos encargada de almacenar un funko, para esto definimos en el fichero funko.ts, la clase <code>Funko</code>, que tendra los siguientes atributos:</p>
<pre><code class="language-typescript"><span class="hl-0">ID</span><span class="hl-1"> </span><span class="hl-2">// Identificador único del Funko</span><br/><span class="hl-3">nombre</span><span class="hl-1"> </span><span class="hl-2">// Nombre del Funko</span><br/><span class="hl-3">descripcion</span><span class="hl-1"> </span><span class="hl-2">// Descripcion del Funko</span><br/><span class="hl-3">tipo</span><span class="hl-1"> </span><span class="hl-2">// Tipo, Pop!, Pop! Rides, Vynil Soda o Vynil Gold, entre otros</span><br/><span class="hl-3">genero</span><span class="hl-1"> </span><span class="hl-2">// Genero, Animación, Películas y TV, Videojuegos, Deportes, Música o Ánime, entre otras</span><br/><span class="hl-3">franquicia</span><span class="hl-1"> </span><span class="hl-2">// Franquicia, The Big Bang Theory, Game of Thrones, Sonic The Hedgehog o Marvel: Guardians of the Galaxy, entre otras.</span><br/><span class="hl-3">numeroFranquicia</span><span class="hl-1"> </span><span class="hl-2">// Número identificativo del Funko dentro de la franquicia correspondiente</span><br/><span class="hl-3">exclusivo</span><span class="hl-1"> </span><span class="hl-2">// Verdadero en el caso de que el Funko sea exclusivo o falso en caso contrario</span><br/><span class="hl-3">caracteristicasEspeciales</span><span class="hl-1"> </span><span class="hl-2">// Característica especiales del Funko como, por ejemplo, si brilla en la oscuridad o si su cabeza balancea</span><br/><span class="hl-3">valorMercado</span><span class="hl-1"> </span><span class="hl-2">// Precio del Funko</span>
</code></pre>
<p>Esta clase tendra los Getters y Setters correpondientes a cada atributo de la clase. Ademas definimos un método encargado de mostrar un Funko por consola, <code>mostrarFunko()</code>, en este método haremos uso del paquete <code>chalk</code>, para mostar el valor de mercado con distintos colores según los rangos establecidos.</p>
<pre><code class="language-typescript"><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-3">_valorMercado</span><span class="hl-1"> &gt; </span><span class="hl-6">0</span><span class="hl-1"> &amp;&amp; </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-3">_valorMercado</span><span class="hl-1"> &lt;= </span><span class="hl-6">5</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-8">`Valor de mercado: `</span><span class="hl-1"> + </span><span class="hl-3">chalk</span><span class="hl-1">.</span><span class="hl-7">red</span><span class="hl-1">(</span><span class="hl-8">`</span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-9">.</span><span class="hl-3">_valorMercado</span><span class="hl-5">}</span><span class="hl-8">`</span><span class="hl-1">));</span><br/><span class="hl-1">}</span><br/><span class="hl-4">else</span><span class="hl-1"> </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-3">_valorMercado</span><span class="hl-1"> &gt; </span><span class="hl-6">5</span><span class="hl-1"> &amp;&amp; </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-3">_valorMercado</span><span class="hl-1"> &lt;= </span><span class="hl-6">15</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-8">`Valor de mercado: `</span><span class="hl-1"> + </span><span class="hl-3">chalk</span><span class="hl-1">.</span><span class="hl-7">yellow</span><span class="hl-1">(</span><span class="hl-8">`</span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-9">.</span><span class="hl-3">_valorMercado</span><span class="hl-5">}</span><span class="hl-8">`</span><span class="hl-1">));</span><br/><span class="hl-1">}</span><br/><span class="hl-4">else</span><span class="hl-1"> </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-3">_valorMercado</span><span class="hl-1"> &gt; </span><span class="hl-6">15</span><span class="hl-1"> &amp;&amp; </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-3">_valorMercado</span><span class="hl-1"> &lt;= </span><span class="hl-6">30</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-8">`Valor de mercado: `</span><span class="hl-1"> + </span><span class="hl-3">chalk</span><span class="hl-1">.</span><span class="hl-7">blue</span><span class="hl-1">(</span><span class="hl-8">`</span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-9">.</span><span class="hl-3">_valorMercado</span><span class="hl-5">}</span><span class="hl-8">`</span><span class="hl-1">));</span><br/><span class="hl-1">}</span><br/><span class="hl-4">else</span><span class="hl-1"> </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-3">_valorMercado</span><span class="hl-1"> &gt; </span><span class="hl-6">30</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-8">`Valor de mercado: `</span><span class="hl-1"> + </span><span class="hl-3">chalk</span><span class="hl-1">.</span><span class="hl-7">green</span><span class="hl-1">(</span><span class="hl-8">`</span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-9">.</span><span class="hl-3">_valorMercado</span><span class="hl-5">}</span><span class="hl-8">`</span><span class="hl-1">));</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Por último en este fichero definimos dos funciones externas a la clase encargadas de convertir una string a un tipo de uno de los dos enumerables, según los atributos, <em>tipo</em> y <em>genero</em> de la clase, para ello hacemos uso de un <em>switch-case</em>.</p>
<pre><code class="language-typescript"><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-7">convertTipoFunko</span><span class="hl-1">(</span><span class="hl-3">type</span><span class="hl-1">: </span><span class="hl-10">string</span><span class="hl-1">) : </span><span class="hl-10">TipoFunko</span><br/><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-7">convertGeneroFunko</span><span class="hl-1">(</span><span class="hl-3">gener</span><span class="hl-1">: </span><span class="hl-10">string</span><span class="hl-1">) : </span><span class="hl-10">GeneroFunko</span>
</code></pre>

<a href="#funkocollectionts" id="funkocollectionts" style="color: inherit; text-decoration: none;">
  <h4>funkoCollection.ts</h4>
</a>
<p>Este fichero sera el encargado de almacenar la clase <code>FunkoCollection</code> que se encargara de gestionar la colección de Funkos, los atributos de esta clase son:</p>
<pre><code class="language-typescript"><span class="hl-11">usuario</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">; </span><span class="hl-2">// Usuario propetario de la colección</span><br/><span class="hl-11">funkoCollection</span><span class="hl-1">: </span><span class="hl-3">Funko</span><span class="hl-1">[]; </span><span class="hl-2">// Colección de funkos</span>
</code></pre>
<p>Lo primero que definimos en esta clase sera el constructor que recibirá como parametro el nombre del propietario, y buscará su carpeta en <code>data</code>, para cargar los funkos guardados en los ficheros <code>.json</code>, en la <code>funkoCollection</code>.</p>
<pre><code class="language-typescript"><span class="hl-7">constructor</span><span class="hl-1">(</span><span class="hl-3">usuario</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-3">_usuario</span><span class="hl-1"> =  </span><span class="hl-3">usuario</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-3">_funkoCollection</span><span class="hl-1"> = [];</span><br/><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-7">existsSync</span><span class="hl-1">(</span><span class="hl-8">&#39;./data/&#39;</span><span class="hl-1"> + </span><span class="hl-3">usuario</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-0">files</span><span class="hl-1"> = </span><span class="hl-7">readdirSync</span><span class="hl-1">(</span><span class="hl-8">&#39;./data/&#39;</span><span class="hl-1"> + </span><span class="hl-3">usuario</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-3">files</span><span class="hl-1">.</span><span class="hl-7">forEach</span><span class="hl-1">(</span><span class="hl-3">funkoFile</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">let</span><span class="hl-1"> </span><span class="hl-3">data</span><span class="hl-1"> = </span><span class="hl-7">readFileSync</span><span class="hl-1">(</span><span class="hl-8">&#39;./data/&#39;</span><span class="hl-1"> + </span><span class="hl-3">usuario</span><span class="hl-1"> + </span><span class="hl-8">&#39;/&#39;</span><span class="hl-1"> + </span><span class="hl-3">funkoFile</span><span class="hl-1">, </span><span class="hl-8">&#39;utf8&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">let</span><span class="hl-1"> </span><span class="hl-3">dataJson</span><span class="hl-1"> =  </span><span class="hl-0">JSON</span><span class="hl-1">.</span><span class="hl-7">parse</span><span class="hl-1">(</span><span class="hl-3">data</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><br/><span class="hl-1">        </span><span class="hl-5">let</span><span class="hl-1"> </span><span class="hl-3">funko</span><span class="hl-1">: </span><span class="hl-10">Funko</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">Funko</span><span class="hl-1"> (</span><span class="hl-3">dataJson</span><span class="hl-1">.</span><span class="hl-0">ID</span><span class="hl-1">, </span><span class="hl-3">dataJson</span><span class="hl-1">.</span><span class="hl-3">nombre</span><span class="hl-1">, </span><span class="hl-3">dataJson</span><span class="hl-1">.</span><span class="hl-3">descripcion</span><span class="hl-1">, </span><span class="hl-3">dataJson</span><span class="hl-1">.</span><span class="hl-3">tipo</span><span class="hl-1">, </span><span class="hl-3">dataJson</span><span class="hl-1">.</span><span class="hl-3">genero</span><span class="hl-1">, </span><span class="hl-3">dataJson</span><span class="hl-1">.</span><span class="hl-3">franquicia</span><span class="hl-1">, </span><span class="hl-3">dataJson</span><span class="hl-1">.</span><span class="hl-3">numeroFranquicia</span><span class="hl-1">, </span><span class="hl-3">dataJson</span><span class="hl-1">.</span><span class="hl-3">exclusivo</span><span class="hl-1">, </span><span class="hl-3">dataJson</span><span class="hl-1">.</span><span class="hl-3">caractericticasEspeciales</span><span class="hl-1">, </span><span class="hl-3">dataJson</span><span class="hl-1">.</span><span class="hl-3">valorMercado</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-3">_funkoCollection</span><span class="hl-1">.</span><span class="hl-7">push</span><span class="hl-1">(</span><span class="hl-3">funko</span><span class="hl-1">);</span><br/><span class="hl-1">      })</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>A continuación, vamos a definir los métodos para añadir, eliminar, modificar, listar y mostrar los funkos. Pero antes vamos a dafinir dos métodos que van a ser usados por estos otros que son:
<code>existeID(ID: number) : number</code>: Método para saber si existe un ID y para saber su índice, en caso de que no exista devuelve -1.</p>
<p><code>private writeFunkoFile(...)</code>: Método privado encargado de cargar un Funko a un fichero JSON. Para ello hace uso de las funciones de la API sincrona de Node.js, <code>existsSync()</code>, para comprobar que existe el directorio de nombre propietario, para si no es así crearlo con <code>mkdirSync()</code>, para al final escribir en los ficheros <code>.json</code>, con la función <code>writeFileSync()</code>.</p>
<p>Ahora si pasamos a definir los métodos para añadir, eliminar, modificar, listar y mostrar los funkos:</p>
<ul>
<li><p><strong>Añadir:</strong> Para este método comprobamos con la el método <code>existeID</code>, que el ID del funko no existe para asi crearlo y meterlo en el array, y llamar al método <code>writeFunkoFile</code> para hacerlo persistente. Si todo ha ido bien y el ID no existía, se emite un mensaje informativo en verde por la consola, y en caso contrario, se mostrará un mensaje de error en rojo por la consola, para ello usamos el paquete <code>chalk</code>.</p>
</li>
<li><p><strong>Modificar:</strong> Para este método comprobamos con la el método <code>existeID</code>, que el ID del funko existe para asi modificar cada uno de sus atributos y llamar al método <code>writeFunkoFile</code> para hacerlo persistente. Si todo ha ido bien y el ID existía, se emite un mensaje informativo en verde por la consola, y en caso contrario, se mostrará un mensaje de error en rojo por la consola, para ello usamos el paquete <code>chalk</code>.</p>
</li>
<li><p><strong>Eliminar:</strong> Para este método comprobamos con la el método <code>existeID</code>, que el ID del funko existe para asi eliminarlo con el método <code>splice</code> y con la función de la API sincrona de Node.js, <code>rmSync()</code> eliminar el fichero de ese funko. Si todo ha ido bien y el ID existía, se emite un mensaje informativo en verde por la consola, y en caso contrario, se mostrará un mensaje de error en rojo por la consola, para ello usamos el paquete <code>chalk</code>.</p>
</li>
<li><p><strong>Listar:</strong> Este método listará todos los funkos de la colección, para ello llama al método de cada funko <code>mostrarFunko()</code>.</p>
</li>
<li><p><strong>Mostrar:</strong> Para este método comprobamos con la el método <code>existeID</code>, que el ID del funko existe para asi mostrarlo con el método del funko concreto <code>mostrarFunko()</code>. Si todo ha ido bien y el ID existía, se emite un mensaje informativo en verde por la consola, y en caso contrario, se mostrará un mensaje de error en rojo por la consola, para ello usamos el paquete <code>chalk</code>.</p>
</li>
</ul>

<a href="#funko-appts" id="funko-appts" style="color: inherit; text-decoration: none;">
  <h4>funko-app.ts</h4>
</a>
<p>En este fichero definiremos el codigo encargado de la interación con el usuario a través de la línea de comandos, para ello vamos a hacer uso del paquete <code>yargs</code>.</p>
<p>Vamos a definir los 5 opciones que permite nuestra aplicación, añadir, eliminar, modificar, listar y mostrar los funkos. Para ello usamos el <code>.command</code>. Tanto para el añadir como para modificar pedimos por parametros el usuario, y todos los elementos del funko a añadir o modificar, para a continuación, crear el objeto <code>FunkoCollection</code> y llamar al método correspondiente <code>add</code> o <code>modify</code>.</p>
<p>Para el caso de eliminar y mostrar un funko concreto, solo pediremos el usuario y el ID, para despues llamar a los métodos <code>remove</code> y <code>show</code>, Y para la opción de listar todos los funkos solo pediremos el usuario.</p>

<a href="#ejercicio-modificación" id="ejercicio-modificación" style="color: inherit; text-decoration: none;">
  <h2>Ejercicio Modificación</h2>
</a>
<p>En este modificación nos pedian implementar un codigo capaz de procesar los datos del problema de la mochila, dados los fichero en CSV y JSON, haciendo uso del patron <code>template</code> y de la API sincrona de Node.js para trabajar con el sistema de ficheros.</p>

<a href="#procesadorts" id="procesadorts" style="color: inherit; text-decoration: none;">
  <h4>procesador.ts</h4>
</a>
<p>Para ello lo primero sera definir la clase plantilla <code>Procesador</code>, y el método plantilla que va a ser:</p>
<pre><code class="language-typescript"><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-7">procesar</span><span class="hl-1">() {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-0">capacidad</span><span class="hl-1"> = </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-7">leerCapacidad</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-7">afterCapacidad</span><span class="hl-1">(</span><span class="hl-3">capacidad</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-0">numeroElementos</span><span class="hl-1"> = </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-7">leerNumeroElementos</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-7">afterNumElementos</span><span class="hl-1">(</span><span class="hl-3">numeroElementos</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-0">elementos</span><span class="hl-1"> = </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-7">leerElementos</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-7">afterElementos</span><span class="hl-1">(</span><span class="hl-3">elementos</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-3">elementos</span><span class="hl-1">.</span><span class="hl-7">forEach</span><span class="hl-1">(</span><span class="hl-3">elemento</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-3">beneficios</span><span class="hl-1">.</span><span class="hl-7">push</span><span class="hl-1">(</span><span class="hl-3">elemento</span><span class="hl-1">[</span><span class="hl-6">0</span><span class="hl-1">]);</span><br/><span class="hl-1">    </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-3">pesos</span><span class="hl-1">.</span><span class="hl-7">push</span><span class="hl-1">(</span><span class="hl-3">elemento</span><span class="hl-1">[</span><span class="hl-6">1</span><span class="hl-1">]);</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-4">return</span><span class="hl-1"> [</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-3">beneficios</span><span class="hl-1">, </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-3">pesos</span><span class="hl-1">];</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Este método va a llamar a varios métodos que tendran que ser definidos en las clase que hereden, por lo que los siguientes métodos seran abstractos:</p>
<pre><code class="language-typescript"><span class="hl-3">protected</span><span class="hl-1"> </span><span class="hl-3">abstract</span><span class="hl-1"> </span><span class="hl-7">leerCapacidad</span><span class="hl-1">(): </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-3">protected</span><span class="hl-1"> </span><span class="hl-3">abstract</span><span class="hl-1"> </span><span class="hl-7">leerNumeroElementos</span><span class="hl-1">(): </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-3">protected</span><span class="hl-1"> </span><span class="hl-3">abstract</span><span class="hl-1"> </span><span class="hl-7">leerElementos</span><span class="hl-1">(): </span><span class="hl-3">ElementoMochila</span><span class="hl-1">[];</span>
</code></pre>
<p>Tambien en esta clase definimos varios métodos <code>hook</code> para comprobar el comportamiento del método plantilla, estos imprimiran por pantalla los valores que devuelve los métodos abstractos en estos <code>hooks</code> son lo siguientes:</p>
<pre><code class="language-typescript"><span class="hl-7">afterCapacidad</span><span class="hl-1">(</span><span class="hl-3">capacidad</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-8">`La capacidad de la mochila es: </span><span class="hl-5">${</span><span class="hl-3">capacidad</span><span class="hl-5">}</span><span class="hl-8">`</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><span class="hl-7">afterNumElementos</span><span class="hl-1">(</span><span class="hl-3">numeroElementos</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-8">`El número de elementos de la mochila es: </span><span class="hl-5">${</span><span class="hl-3">numeroElementos</span><span class="hl-5">}</span><span class="hl-8">`</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><span class="hl-7">afterElementos</span><span class="hl-1">(</span><span class="hl-3">elementos</span><span class="hl-1">: </span><span class="hl-3">ElementoMochila</span><span class="hl-1">[]) {</span><br/><span class="hl-1">  </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-8">`Los elementos de la mochila son: </span><span class="hl-5">${</span><span class="hl-3">elementos</span><span class="hl-5">}</span><span class="hl-8">`</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#conclusiones" id="conclusiones" style="color: inherit; text-decoration: none;">
  <h2>Conclusiones</h2>
</a>
<p>En esta práctica hemos realizado varios ejercicios con los que hemos practicado los conceptos explicados en clase, sobre Node.js, la API síncrona proporcionada por Node.js para trabajar con el sistema de ficheros y los paquetes <code>yargs</code> y <code>chalk</code>.</p>
<p>En concreto, he practicado más profundamente las funciones de la API sincrona de Node.js, <code>writefileSync</code>, <code>readfileSync</code>, <code>existsSync</code>, <code>mkdirSync</code> y <code>rmSync</code>.</p>

<a href="#bibliografía" id="bibliografía" style="color: inherit; text-decoration: none;">
  <h2>Bibliografía</h2>
</a>
<ul>
<li><a href="https://ull-esit-inf-dsi-2223.github.io/prct09-filesystem-funko-app/">Guion de la práctica</a></li>
<li><a href="https://ull-esit-inf-dsi-2223.github.io/nodejs-theory/">Apuntes de la asignatura</a></li>
</ul>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current selected"><a href="modules.html">dsi-<wbr/>prct09-<wbr/>funkoapp</a>
<ul>
<li class="tsd-kind-module"><a href="modules/funkoApp_funko.html">funko<wbr/>App/funko</a></li>
<li class="tsd-kind-module"><a href="modules/funkoApp_funko_app.html">funko<wbr/>App/funko-<wbr/>app</a></li>
<li class="tsd-kind-module"><a href="modules/funkoApp_funkoCollection.html">funko<wbr/>App/funko<wbr/>Collection</a></li>
<li class="tsd-kind-module"><a href="modules/modificacion_procesador.html">modificacion/procesador</a></li>
<li class="tsd-kind-module"><a href="modules/modificacion_procesadorCSV.html">modificacion/procesadorCSV</a></li></ul></li></ul></div></details></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="assets/main.js"></script></body></html>